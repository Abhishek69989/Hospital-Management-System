{% extends 'base.html' %}

{% block title %}View Lab Tests{% endblock %}

{% block content %}
<h2>Lab Tests</h2>
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="container mt-4">
            {% for category, message in messages %}
                <div class="alert alert-{{ 'danger' if category == 'error' else 'success' }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}
{% if lab_tests %}
<table>
    <thead>
        <tr>
            <th>Test ID</th>
            <th>Patient ID</th>
            <th>Doctor ID</th>
            <th>Test Type</th>
            <th>Test Date</th>
        </tr>
    </thead>
    <tbody>
        {% for test in lab_tests %}
        <tr>
            <td>{{ test[0] }}</td> 
            <td>{{ test[1] }}</td> 
            <td>{{ test[2] }}</td> 
            <td>{{ test[3] }}</td>
            <td>{{ test[4] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No lab tests available.</p>
{% endif %}
{% endblock %}
